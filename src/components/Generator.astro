---
import type { CollectionEntry } from 'astro:content';
import { getEntryBySlug } from 'astro:content';
import Generator from '~components/Generator.svelte';

export type Props = {
	id: string;
};

const { id } = Astro.props;

const generator = await getEntryBySlug('generators', id);

if (generator === undefined) {
	throw new Error('Генератор не найден');
}

const data: CollectionEntry<'generators'>['data'] = generator.data;
---

<Generator {data} client:visible />
