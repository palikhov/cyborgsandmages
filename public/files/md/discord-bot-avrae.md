---
title: "Discord-бот Avrae"
date: "2022-07-18"
categories: 
  - "krossposty"
  - "resources"
tags: 
  - "resursy-dlya-igrokov"
  - "resursy-dlya-mastera"
---

Шпаргалка и расширенные возможности

**При игре онлайн очень важно автоматизировать побольше рутинных действий, чтобы такие партии были менее выматывающими как для мастера, так и для игроков. Avrae как раз призван с этим помочь.**

Недавно мы описывали [сетап для онлайн-игры для начинающих](https://longstoryshort.app/long/online-setup/), одним из ключевых компонентов которого был Discord-бот Avrae. Avrae обладает довольно обширным функционалом, но [справка по командам](https://avrae.io/commands) не даёт примеров, а некоторые продвинутые возможности неочевидны. Поэтому в этой статье мы приведем шпаргалку по самым нужным командам, потом рассмотрим применение CritterDB для создания своих монстров и взглянем на возможности расширения Avrae руками пользователей.

**Шпаргалка по командам**

Avrae — довольно смышленый бот: вместо полных названий навыков, атрибутов, заклинаний, имен персонажей и монстров, можно писать сокращенные и не обращать внимания на регистр. Однако, имя или название всё же придется заключить в кавычки, если оно содержит пробел.

**Самая главная команда**

!help — краткая справка по доступным командам

!help attack, !help init madd — справка по конкретной команде

**Кости**

!roll d20 — наша любимая кость

!roll d8 + d12 — сумма бросков двух разных костей

!roll d12 + 3 — бросить к12 и прибавить 3

!roll 3d8 — сумма трёх бросков к8

!roll d9 — поддерживаются произвольные кости с любым целым положительным количеством граней

**Персонажи и листы**

!char — выводит имя вашего активного персонажа

!char list — выводит список подключенных персонажей

!char "Green Tooth" — делает активным персонажа с данным именем (поскольку имя включает пробел, оно заключено в кавычки)

!beyond [https://ddb.ac/characters/42399372/g952me](https://ddb.ac/characters/42399372/g952me) — подключает персонажа из D&D Beyond (ссылка показывается по нажатию на кнопку «Share»)

!randchar 7 — генерирует персонажа 7 уровня со случайной расой, классом и именем. Может включать правила из Unearthed Arcana.

**Проверки**

!check perception — проверка на восприятие

!check sleight adv — проверка на ловкость рук с преимуществом

!check wisdom dis — проверка на мудрость с помехой

!check str adv -dc 10 — проверка на силу с преимуществом и заданной сложностью

**Спасброски**

!save charisma — спасбросок на харизму без указания сложности

!save int -dc 15 — спасбросок на интеллект с заданной сложностью

!save con dis — спасбросок на телосложение с помехой

**Справочная информация**

!spell thunderwave — информация о заклинании _Волна грома_

!monster "Beholder Zombie" — информация о зомби-бехолдере

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr1.jpg)

Зомби-бехолдер

**Атаки и заклинания**

!attack dagger — ваш персонаж атакует кинжалом

!attack "longbow, +1" dis — ваш персонаж стреляет из длинного лука +1 с помехой (видимо, в упор)

!cast firebolt — ваш персонаж использует заклинание _Огненная стрела_

!cast wish -i — использование заклинания с игнорированием требований (например, с помощью предмета)

**Инициатива и подготовка к бою**

!init begin — начать бой. Бот создаст прикрепленный пост с информацией об участниках боя (индикатор здоровья и порядок инициативы) и будет обновлять его по мере течения сражения.

!init madd goblin — добавляем в бой гоблина (его имя задается автоматически).

!init madd "goblin boss" dis -name Отлаакс — добавляем в бой вождя гоблинов с заданным именем и помехой к инициативе

!init join — игроки вводят эту команду, чтобы присоединиться к бою

!init next — начать первый раунд боя

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr2.jpg)

Все готовы к сражению

**Боевые команды для ДМа**

!init attack shortsword -t "Илья Муромец" — текущий участник боя атакует персонажа по имени Илья Муромец

!init cast fireball adv -t "Алёша Попович" — текущий участник кастует _Огненный шар_ в персонажа по имени Алёша Попович, да еще и с преимуществом

!init next — передача хода следующему по инициативе участнику

!init end — окончание боя

**Боевые команды для игроков**

!attack longbow -t Отлаакс — игрок стреляет в существо по имени Отлаакс

!cast "Chromatic Orb" -t GO1 — игрок использует заклинание _Цветной шарик_ против некоего гоблина

**Прочее**

!game longrest, !game lr — долгий отдых

!game shortrest, !game sr — короткий отдых

!game ds save, !game ds fail — добавить спасбросок от смерти, удачный или неудачный соответственно

Чтобы шпаргалка всегда была под рукой, мы подготовили специальную [сжатую версию](https://longstoryshort.app/long/avrae-bot/avrae-cheatsheet.txt) для Discord. Скопируйте текст из этого файла, отправьте его в канал и закрепите сообщение с помощью контекстного меню.

**Хоумбрюшные противники**

Кампания может здорово выиграть от нестандартных врагов — особенно если ваши игроки уже навидались всякого. Avrae умеет импортировать статблоки из стороннего инструмента — [CritterDB.com](https://critterdb.com/).

CritterDB позволяет быстро и достаточно гибко создавать симпатичные карточки монстров c помощью удобного пошагового мастера.

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr3.jpg)

Тгозур — босс из соло-приключения The Dread Vault of Tgozur

Все созданные существа организуются по коллекциям. Создайте коллекцию с названием вашей кампании, нажав на оранжевую кнопку с плюсиком:

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr4.jpg)

Откройте только что созданную коллекцию и добавьте в нее новое существо (опять же с помощью оранжевой кнопки с плюсиком).

На **первом шаге** задаем имя и мировоззрение. Галочка «Proper Noun?» ставится, если это имя собственное.

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr5.jpg)

На **втором шаге** выбираем тип существа, его размер, задаем скорость, языки (если есть), и чувства. Пассивное восприятие генерируется автоматически.

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr6.jpg)

На **третьем шаге** задаем базовые характеристика, а также, при необходимости, спасброски и умения.

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr7.jpg)

На **четвертом шаге** мы выбираем нашему существу количество очков здоровья и класс доспехов, а также уязвимости и иммунитеты к разным видам урона.

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr8.jpg)

**Пятый шаг** — самое интересное: атаки, заклинания и прочие действия существа, включая легендарные. Для атак и заклинаний есть специальные диалоговые окна. Не бойтесь, если что-то пошло не так — просто удалите неудачную атаку и попробуйте снова.

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr9.jpg)

**Шестой шаг** — уровень опасности. Если сомневаетесь, воспользуйтесь калькулятором, который работает по правилам, описанным в «Руководстве мастера подземелий».

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr10.jpg)

В любой момент можно вернуться на предыдущие шаги, а созданного монстра всегда можно отредактировать.

Наполнив коллекцию, нажмите кнопку «Share collection» и скопируйте полученную ссылку.

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr11.jpg)

Вернувшись в Discord, вставьте эту ссылку в команду !bestiary import ваша\_ссылка. Готово! Пусть игроки познают ваш гнев за то, что пропустили сессию на прошлой неделе!

**Плагины**

Avrae поддерживает скриптинг на [«драконьем» языке](https://avrae.readthedocs.io/en/stable/aliasing/api.html), основанном на Python. Благодаря этому пользователи могут создавать новые команды, которые еще больше автоматизируют рутину или дают новые возможности. Все они доступны в [специальном списке](https://avrae.io/dashboard/workshop) на официальном сайте, откуда их легко добавить к себе на сервер.

**Боевые карты на лету**

Наверное, самым впечатляющим плагином является [Map Utilities](https://avrae.io/dashboard/workshop/5f6a4623f4c89c324d6a5cd3), который позволяет выводить тактические карты прямо в чат:

![](https://cyborgsandmages.com/wp-content/uploads/2022/07/071822_0026_discordavr12.jpg)

Конечно, чтобы карта выглядела именно так, придется немного подготовиться, да и [выучить дополнительные команды](http://docs.otfbm.com/), но результат того стоит.

К сожалению, на момент написания этой статьи, сервис, обеспечивающий отрисовку карт, не поддерживает символы за пределами базовой латиницы. Будем надеяться, что это скоро починят.

**Удобные алиасы для классовых способностей**

Чтобы сэкономить время на наборе длинных команд, можно поставить плагины с классо-специфичными сокращениями и утилитами. Например, паладину достаточно набрать !loh вместо !cast "lay on hands" чтобы исцелить боевого товарища, а команда !rage затмит глаза варвара красным туманом. Для каждого класса найдется что-то, что сэкономит игроку время на отыгрыш роли.

Текст: [Константин Китманов](https://k12th.itch.io/)

На обложке: кованый за авторством [Tim Shepherd](https://www.artstation.com/artwork/Ye6Rkb) выполняет команду !attack handaxe

_Источник: < [https://longstoryshort.app/long/avrae-bot/](https://longstoryshort.app/long/avrae-bot/)\>_
